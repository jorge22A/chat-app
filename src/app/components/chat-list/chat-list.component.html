<div class="chat-list-container">
  <div class="search-container">
    <input 
      type="text" 
      placeholder="Buscar chat..." 
      class="search-input"
      [value]="searchTerm()"
      (input)="onSearch($event)"
    >
  </div>
  
  <div class="chat-list">
    @for (chat of chats(); track chat.id) {
      <div 
        class="chat-item" 
        [class.active]="chat.id === activeChatId()"
        (click)="selectChat(chat.id)"
      >
        <div class="avatar-container">
          <img [src]="chat.avatar" [alt]="chat.contactName" class="chat-avatar">
          <span class="status-indicator" [ngClass]="getStatusClass(chat.status)"></span>
        </div>
        
        <div class="chat-info">
          <div class="chat-header">
            <span class="contact-name">{{ chat.contactName }}</span>
            <span class="message-time">{{ chat.lastMessageTime | dateFormat }}</span>
          </div>
          <p class="last-message">{{ chat.lastMessage }}</p>
        </div>
      </div>
    } @empty {
      <div class="no-chats">
        <p>No se encontraron chats</p>
      </div>
    }
  </div>
</div>